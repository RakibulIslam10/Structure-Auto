#!/bin/bash

read -p "📝 Enter screen/view name: " screen_name

base_dir="lib/views/$screen_name"

echo "📁 Creating folder structure under $base_dir..."

mkdir -p "$base_dir/controller"
mkdir -p "$base_dir/screen"
mkdir -p "$base_dir/widget"

# Controller
cat <<EOF > "$base_dir/controller/${screen_name}_controller.dart"
import 'package:get/get.dart';

class ${screen_name^}Controller extends GetxController {
  // TODO: Implement controller logic
}
EOF

# Screen
cat <<EOF > "$base_dir/screen/${screen_name}_screen.dart"
import 'package:flutter/material.dart';
import 'package:get/get.dart';
import '../controller/${screen_name}_controller.dart';

class ${screen_name^}Screen extends StatelessWidget {
  final controller = Get.put(${screen_name^}Controller());

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('${screen_name^} Screen')),
      body: Center(child: Text('Welcome to ${screen_name^}')),
    );
  }
}
EOF

# Widget
cat <<EOF > "$base_dir/widget/${screen_name}_widget.dart"
import 'package:flutter/material.dart';

class ${screen_name^}Widget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Container(
      child: Text('${screen_name^} Widget Placeholder'),
    );
  }
}
EOF

echo "✅ Screen '$screen_name' created successfully in lib/views/"
